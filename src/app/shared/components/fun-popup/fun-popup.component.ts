import { Component, OnInit } from '@angular/core';
import { trigger, style, animate, transition } from '@angular/animations';
import { CommonModule } from '@angular/common';

@Component({
  selector: 'app-fun-popup',
  templateUrl: './fun-popup.component.html',
  styleUrls: ['./fun-popup.component.css'],
  standalone: true,
  imports: [CommonModule],
  animations: [
    trigger('popupAnim', [
      transition(':enter', [
        style({ opacity: 0, transform: 'scale(0.5)' }),
        animate('600ms ease-out', style({ opacity: 1, transform: 'scale(1)' })),
      ]),
      transition(':leave', [
        animate(
          '600ms ease-in',
          style({ opacity: 0, transform: 'scale(0.5)' })
        ),
      ]),
    ]),
  ],
})
export class FunPopupComponent implements OnInit {
  show = false;
  message = '';

  private messages = [
    'Bonne journÃ©e mon amour â¤ï¸',
    'Je pense Ã  toi ðŸ˜˜',
    'Tu rends ma vie plus belle ðŸ˜',
    'Toi + Moi = Toujours ðŸ’ž',
    'Que ton sourire illumine ma journÃ©e ðŸ˜‡',
    'Tu es mon bonheur quotidien ðŸŒ¸',
    'Je suis tellement chanceux(se) de tâ€™avoir ðŸ’•',
    'Ton sourire est mon soleil â˜€ï¸',
    'Chaque jour avec toi est spÃ©cial âœ¨',
    'Tu es mon trÃ©sor le plus prÃ©cieux ðŸ’Ž',
    'Je tâ€™aime plus que les mots ðŸ’–',
    'Merci dâ€™Ãªtre dans ma vie ðŸŒ¹',
    'Quand je pense Ã  toi, je souris automatiquement ðŸ˜Š',
    'Mon cÅ“ur bat pour toi chaque instant ðŸ’“',
    'Tu es ma plus belle histoire dâ€™amour ðŸ“–â¤ï¸',
    'Je veux passer tous mes jours avec toi ðŸ’',
    'Ton amour est mon Ã©nergie ðŸ”¥',
    'Rien nâ€™est plus beau que toi ðŸŒ·',
    'Je suis fier(Ã¨re) de tâ€™avoir dans ma vie ðŸŒŸ',
    'Toi et moi, câ€™est pour toujours ðŸ’«',
    'Tu rends mes journÃ©es douces comme du miel ðŸ¯',
    'Ton regard est ma faiblesse ðŸ¥º',
    'Avec toi, tout est magique âœ¨',
    'Tu es la meilleure chose qui me soit arrivÃ©e ðŸŽ',
    'Jâ€™ai hÃ¢te de te revoir ðŸ˜',
    'Ton cÃ¢lin est mon endroit prÃ©fÃ©rÃ© ðŸ¤—',
    'Tu es mon rÃªve devenu rÃ©alitÃ© ðŸŒ™',
    'Chaque pensÃ©e de toi me rend heureux(se) ðŸ’ž',
    'Je tâ€™adore, tout simplement ðŸ’–',
    'Mon cÅ“ur tâ€™appartient ðŸ’˜',
    'Ton rire est ma mÃ©lodie prÃ©fÃ©rÃ©e ðŸŽ¶',
    'Je veux te garder dans mes bras pour toujours ðŸ¤',
    'MÃªme loin, tu es toujours prÃ¨s de mon cÅ“ur ðŸ“â¤ï¸',
    'Tu es mon Ã©toile qui brille dans la nuit ðŸŒŒ',
    'Chaque moment avec toi est un cadeau ðŸŽ',
    'Ton amour est mon abri ðŸ¡ðŸ’“',
    'Je suis accro Ã  toi ðŸ’ŠðŸ˜',
    'Mon plus grand bonheur, câ€™est toi ðŸ’ž',
    'Tu rends ma vie meilleure chaque jour ðŸŒˆ',
    'Tu es ma moitiÃ©, mon tout, mon univers ðŸŒâ¤ï¸',
    'Ton prÃ©nom est ma chanson prÃ©fÃ©rÃ©e ðŸŽµ',
    'Je tâ€™aime sans condition ðŸ’¯â¤ï¸',
    'Tu es la plus belle personne du monde ðŸŒ¹',
    'Rien ne vaut ton sourire ðŸ˜ŠðŸ’•',
    'Avec toi je me sens complet(e) ðŸ¥°',
    'Ton amour est ma plus grande richesse ðŸ’Ž',
    'Je ne me lasserai jamais de toi ðŸ’–',
    'Tu rends mes rÃªves plus beaux ðŸŒ™âœ¨',
    'Tu es la raison de mon sourire du matin â˜€ï¸',
    'Je veux te protÃ©ger pour toujours ðŸ›¡ï¸â¤ï¸',
    'Tu es la douceur de ma vie ðŸ­',
    'Je me sens bÃ©ni(e) de tâ€™avoir ðŸ˜‡',
    'Ton amour me fait voler ðŸ•Šï¸',
    'Chaque baiser est un trÃ©sor ðŸ’‹',
    'Tu es mon Ã©ternitÃ© â™¾ï¸â¤ï¸',
    'Jâ€™ai besoin de toi comme de lâ€™air ðŸŒ¬ï¸',
    'Avec toi, je veux vieillir ðŸ‘µðŸ‘´â¤ï¸',
    'Tu es mon aventure prÃ©fÃ©rÃ©e ðŸŒðŸ’‘',
    'Tu es mon meilleur choix ðŸ’•',
    'Mon monde est plus beau grÃ¢ce Ã  toi ðŸŒˆ',
    'Ton amour est ma force ðŸ’ªâ¤ï¸',
    'Je suis fou/folle de toi ðŸ¤¯â¤ï¸',
    'Tu es mon miracle quotidien âœ¨',
    'Tu es mon refuge dans les tempÃªtes ðŸŒ§ï¸â¤ï¸',
    'Rien ne me rend plus heureux(se) que toi ðŸ’–',
    'Tu es mon rayon de lumiÃ¨re ðŸŒž',
    'Ton parfum me manque quand tu nâ€™es pas lÃ  ðŸŒ¸',
    'Je veux Ãªtre Ã  tes cÃ´tÃ©s pour toujours ðŸ¤â¤ï¸',
    'Tu es mon ange gardien ðŸ‘¼',
    'Chaque seconde sans toi est trop longue â³ðŸ’”',
    'Tu es mon coup de foudre Ã©ternel âš¡â¤ï¸',
    'Ton amour est ma plus belle aventure ðŸš€ðŸ’ž',
    'Je veux Ã©crire notre histoire chaque jour âœï¸â¤ï¸',
    'Je suis amoureux(se) de toi encore et encore ðŸ”„â¤ï¸',
    'Tu es mon sourire prÃ©fÃ©rÃ© ðŸ˜Šâ¤ï¸',
    'Ton amour est ma maison ðŸ ðŸ’•',
    'Avec toi, le monde est parfait ðŸŒâœ¨',
    'Tu es mon feu dans le froid ðŸ”¥â„ï¸',
    'Je tâ€™aime plus quâ€™hier et moins que demain ðŸ•°ï¸â¤ï¸',
    'Tu es mon doux secret ðŸ¤«ðŸ’–',
    'Mon cÅ“ur bat ton prÃ©nom ðŸ’“',
    'Tu es mon ocÃ©an dâ€™amour ðŸŒŠâ¤ï¸',
    'Je suis perdu(e) dans tes yeux ðŸ’ŽðŸ‘€',
    'Tu es ma chanson sans fin ðŸŽ¶â¤ï¸',
    'Ton sourire guÃ©rit toutes mes blessures ðŸ’ŠðŸ’•',
    'Je veux tâ€™aimer jusquâ€™Ã  lâ€™infini â™¾ï¸â¤ï¸',
    'Tu es mon plus beau cadeau de la vie ðŸŽðŸ’–',
    'Je suis complet(e) grÃ¢ce Ã  toi ðŸ¥°',
    'Ton amour est mon plus bel espoir ðŸŒŸ',
    'Tu es mon Ã¢me sÅ“ur ðŸ’ž',
    'Chaque jour avec toi est un conte de fÃ©es ðŸ§šâ€â™€ï¸âœ¨',
    'Tu es mon bonheur Ã©ternel ðŸ’',
    'Tu es ma plus belle vÃ©ritÃ© ðŸŒ¹',
    'Mon seul dÃ©sir, câ€™est toi ðŸ’˜',
    'Je suis rien sans toi ðŸ’”âž¡ï¸â¤ï¸',
    'Tu es ma flamme qui brÃ»le toujours ðŸ”¥',
    'Avec toi, je me sens vivant(e) ðŸŒˆ',
    'Je tâ€™aimerai toujours, quoi quâ€™il arrive ðŸŒâ¤ï¸',
    'Ton amour est ma destination ðŸ—ºï¸ðŸ’ž',
    'Tu es et tu resteras lâ€™amour de ma vie â¤ï¸',

    // English
    'Have a good day, my love â¤ï¸',
    'Iâ€™m thinking of you ðŸ˜˜',
    'You make my life more beautiful ðŸ˜',
    'You + Me = Forever ðŸ’ž',
    'May your smile brighten my day ðŸ˜‡',
    'You are my daily happiness ðŸŒ¸',
    'Iâ€™m so lucky to have you ðŸ’•',
    'Your smile is my sunshine â˜€ï¸',
    'Every day with you is special âœ¨',
    'You are my most precious treasure ðŸ’Ž',
    'I love you more than words ðŸ’–',
    'Thank you for being in my life ðŸŒ¹',
    'When I think of you, I automatically smile ðŸ˜Š',
    'My heart beats for you every moment ðŸ’“',
    'You are my most beautiful love story ðŸ“–â¤ï¸',
    'I want to spend all my days with you ðŸ’',
    'Your love is my energy ðŸ”¥',
    'Nothing is more beautiful than you ðŸŒ·',
    'Iâ€™m proud to have you in my life ðŸŒŸ',
    'You and me, itâ€™s forever ðŸ’«',
    'You make my days sweet like honey ðŸ¯',
    'Your gaze is my weakness ðŸ¥º',
    'With you, everything is magical âœ¨',
    'You are the best thing that ever happened to me ðŸŽ',
    'I canâ€™t wait to see you again ðŸ˜',
    'Your hug is my favorite place ðŸ¤—',
    'You are my dream come true ðŸŒ™',
    'Every thought of you makes me happy ðŸ’ž',
    'I adore you, simply ðŸ’–',
    'My heart belongs to you ðŸ’˜',
    'Your laughter is my favorite melody ðŸŽ¶',
    'I want to hold you in my arms forever ðŸ¤',
    'Even far away, youâ€™re always close to my heart ðŸ“â¤ï¸',
    'You are my star shining in the night ðŸŒŒ',
    'Every moment with you is a gift ðŸŽ',
    'Your love is my shelter ðŸ¡ðŸ’“',
    'Iâ€™m addicted to you ðŸ’ŠðŸ˜',
    'My greatest happiness is you ðŸ’ž',
    'You make my life better every day ðŸŒˆ',
    'You are my half, my everything, my universe ðŸŒâ¤ï¸',
    'Your name is my favorite song ðŸŽµ',
    'I love you unconditionally ðŸ’¯â¤ï¸',
    'You are the most beautiful person in the world ðŸŒ¹',
    'Nothing is worth more than your smile ðŸ˜ŠðŸ’•',
    'With you I feel complete ðŸ¥°',
    'Your love is my greatest wealth ðŸ’Ž',
    'Iâ€™ll never get tired of you ðŸ’–',
    'You make my dreams more beautiful ðŸŒ™âœ¨',
    'You are the reason for my morning smile â˜€ï¸',
    'I want to protect you forever ðŸ›¡ï¸â¤ï¸',
    'You are the sweetness of my life ðŸ­',
    'I feel blessed to have you ðŸ˜‡',
    'Your love makes me fly ðŸ•Šï¸',
    'Every kiss is a treasure ðŸ’‹',
    'You are my eternity â™¾ï¸â¤ï¸',
    'I need you like air ðŸŒ¬ï¸',
    'With you, I want to grow old ðŸ‘µðŸ‘´â¤ï¸',
    'You are my favorite adventure ðŸŒðŸ’‘',
    'You are my best choice ðŸ’•',
    'My world is more beautiful thanks to you ðŸŒˆ',
    'Your love is my strength ðŸ’ªâ¤ï¸',
    'Iâ€™m crazy about you ðŸ¤¯â¤ï¸',
    'You are my daily miracle âœ¨',
    'You are my refuge in storms ðŸŒ§ï¸â¤ï¸',
    'Nothing makes me happier than you ðŸ’–',
    'You are my ray of light ðŸŒž',
    'I miss your scent when youâ€™re not here ðŸŒ¸',
    'I want to be by your side forever ðŸ¤â¤ï¸',
    'You are my guardian angel ðŸ‘¼',
    'Every second without you is too long â³ðŸ’”',
    'You are my eternal love at first sight âš¡â¤ï¸',
    'Your love is my greatest adventure ðŸš€ðŸ’ž',
    'I want to write our story every day âœï¸â¤ï¸',
    'Iâ€™m in love with you over and over again ðŸ”„â¤ï¸',
    'You are my favorite smile ðŸ˜Šâ¤ï¸',
    'Your love is my home ðŸ ðŸ’•',
    'With you, the world is perfect ðŸŒâœ¨',
    'You are my fire in the cold ðŸ”¥â„ï¸',
    'I love you more than yesterday and less than tomorrow ðŸ•°ï¸â¤ï¸',
    'You are my sweet secret ðŸ¤«ðŸ’–',
    'My heart beats your name ðŸ’“',
    'You are my ocean of love ðŸŒŠâ¤ï¸',
    'Iâ€™m lost in your eyes ðŸ’ŽðŸ‘€',
    'You are my endless song ðŸŽ¶â¤ï¸',
    'Your smile heals all my wounds ðŸ’ŠðŸ’•',
    'I want to love you to infinity â™¾ï¸â¤ï¸',
    'You are my most beautiful gift in life ðŸŽðŸ’–',
    'I am complete thanks to you ðŸ¥°',
    'Your love is my greatest hope ðŸŒŸ',
    'You are my soulmate ðŸ’ž',
    'Every day with you is a fairy tale ðŸ§šâ€â™€ï¸âœ¨',
    'You are my eternal happiness ðŸ’',
    'You are my most beautiful truth ðŸŒ¹',
    'My only desire is you ðŸ’˜',
    'I am nothing without you ðŸ’”âž¡ï¸â¤ï¸',
    'You are my flame that always burns ðŸ”¥',
    'With you, I feel alive ðŸŒˆ',
    'I will always love you, no matter what ðŸŒâ¤ï¸',
    'Your love is my destination ðŸ—ºï¸ðŸ’ž',
    'You are and will always be the love of my life â¤ï¸',
  ];

  ngOnInit() {
    const intervalMinutes = 30;

    const checkAndShow = () => {
      const now = Date.now();
      const lastShown = localStorage.getItem('fun-popup-timestamp');
      const lastShownTime = lastShown ? parseInt(lastShown, 10) : 0;

      if (now - lastShownTime > intervalMinutes * 60 * 1000) {
        this.show = true;
        this.message =
          this.messages[Math.floor(Math.random() * this.messages.length)];

        localStorage.setItem('fun-popup-timestamp', now.toString());

        setTimeout(() => (this.show = false), 4000);
      }
    };

    checkAndShow();

    setInterval(checkAndShow, 60 * 1000);
  }

  close() {
    this.show = false;
  }
}
